{
  "version": 3,
  "sources": ["/Users/kevin/Documents/Projects/snowpack-site/src/pages/projects/flashcards/form/flashcard-inputs.tsx"],
  "sourcesContent": ["import React, { FC } from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport styled from \"styled-components\";\nimport { Formik, FormikHelpers } from \"formik\";\nimport { flashcardState } from \"state/flashcards\";\nimport { Input, SubmitButton, Label } from \"common/ui-elements/forms\";\n\ninterface FlashcardInputsProps {\n  cardIndex: number;\n  setIndex: (v: number) => void;\n};\n\ninterface FormValues {\n  subject: string;\n  description: string;\n  index: number;\n  type: \"adding\" | \"deleting\" | null;\n};\n\nexport const FlashcardInputs: FC<FlashcardInputsProps> = ({\n  cardIndex,\n  setIndex,\n}) => {\n  const [cards, updateCards] = useRecoilState(flashcardState);\n  const addCard = (s: string, d: string) => updateCards([{ subject: s, description: d }, ...cards]);\n  const removeCard = (idx: number) => updateCards(cards.filter(c => c.subject !== cards[idx].subject));\n\n  return (\n    <Formik<FormValues>\n      initialValues={{\n        subject: \"\",\n        description: \"\",\n        index: cardIndex,\n        type: null,\n      }}\n      onSubmit={(values: FormValues, helpers: FormikHelpers<FormValues>) =>\n        submit(\n          values,\n          helpers,\n          addCard,\n          removeCard,\n          setIndex\n        )\n      }\n      enableReinitialize\n    >\n      {form => {\n        return (\n          <form onSubmit={form.handleSubmit} style={{ width: \"70%\" }}>\n            <FormInputGrid>\n              <StyledLabel1 label=\"Subject\">\n                <Input\n                  name=\"subject\"\n                  onChange={form.handleChange}\n                  value={form.values.subject}\n                />\n              </StyledLabel1>\n              <StyledLabel2 label=\"Description\">\n                <Input\n                  name=\"description\"\n                  onChange={form.handleChange}\n                  value={form.values.description}\n                />\n              </StyledLabel2>\n              <SubmitButton\n                onSubmit={() => form.submitForm}\n                onClick={() => form.setFieldValue(\"type\", \"adding\")}\n              >\n                <span style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n                  Add\n                  <svg fill=\"none\" stroke=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" width=\"2.5rem\" height=\"2rem\" style={{ marginBottom: \"0.5rem\" }}>\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"></path>\n                  </svg>\n                </span>\n              </SubmitButton>\n              <SubmitButton\n                disabled={!cards.length}\n                onSubmit={() => form.submitForm}\n                onClick={() => form.setFieldValue(\"type\", \"deleting\")}\n                color=\"dark_teal\"\n              >\n                <span style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n                  Delete\n                  <svg fill=\"none\" stroke=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" width=\"2.5rem\" height=\"2.5rem\" style={{ margin: \"0 0 0 0.5rem\" }}>\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                  </svg>\n                </span>\n              </SubmitButton>\n            </FormInputGrid>\n          </form>\n        )\n      }}\n    </Formik>\n  )\n}\n\nfunction submit(\n  values: FormValues,\n  { setSubmitting, resetForm }: FormikHelpers<FormValues>,\n  addCard: (s: string, d: string) => void,\n  removeCard: (index: number) => void,\n  setIndex: (v: number) => void,\n) {\n  setSubmitting(true);\n\n  if (values.type === \"deleting\") {\n    // Decrement index to account for removing unless already at 0;\n    values.index !== 0 ? setIndex(values.index - 1) : null;\n    removeCard(values.index);\n\n    setSubmitting(false);\n    resetForm();\n    return;\n  }\n\n  addCard(values.subject, values.description);\n\n  setSubmitting(false);\n  resetForm();\n  return;\n}\n\nconst StyledLabel1 = styled(Label)``;\nconst StyledLabel2 = styled(Label)``;\n\nconst FormInputGrid = styled.div`\n  display: grid;\n  grid-gap: 2rem;\n  grid-template-columns: minmax(0, 1fr);\n\n  ${({ theme }) => theme.mediaQuery.laptop} {\n    grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);\n  }\n`;"],
  "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AAKC;AAOA;AAEM,aAAM,kBAA4C;AAAA,EACvD;AAAA,EACA;AAAA;AAEA,+BAA6B,eAAe;AAC5C,kBAAgB,UAA0B,YAAY,CAAC,CAAE,SAAS,GAAG,aAAa,IAAK,GAAG;AAC1F,qBAAmB,SAAiB,YAAY,MAAM,OAAO,OAAK,EAAE,YAAY,MAAM,KAAK;AAE3F,SACE,oCAAC,QAAD;AAAA,IACE,eAAe;AAAA,MACb,SAAS;AAAA,MACT,aAAa;AAAA,MACb,OAAO;AAAA,MACP,MAAM;AAAA;AAAA,IAER,UAAU,qBACR,OACE,QACA,SACA,SACA,YACA;AAAA,IAGJ,oBAAkB;AAAA,KAEjB;AACC,WACE,oCAAC,QAAD;AAAA,MAAM,UAAU,KAAK;AAAA,MAAc,OAAO,CAAE,OAAO;AAAA,OACjD,oCAAC,eAAD,MACE,oCAAC,cAAD;AAAA,MAAc,OAAM;AAAA,OAClB,oCAAC,OAAD;AAAA,MACE,MAAK;AAAA,MACL,UAAU,KAAK;AAAA,MACf,OAAO,KAAK,OAAO;AAAA,SAGvB,oCAAC,cAAD;AAAA,MAAc,OAAM;AAAA,OAClB,oCAAC,OAAD;AAAA,MACE,MAAK;AAAA,MACL,UAAU,KAAK;AAAA,MACf,OAAO,KAAK,OAAO;AAAA,SAGvB,oCAAC,cAAD;AAAA,MACE,UAAU,MAAM,KAAK;AAAA,MACrB,SAAS,MAAM,KAAK,cAAc,QAAQ;AAAA,OAE1C,oCAAC,QAAD;AAAA,MAAM,OAAO,CAAE,SAAS,QAAQ,gBAAgB,UAAU,YAAY;AAAA,OAAY,OAEhF,oCAAC,OAAD;AAAA,MAAK,MAAK;AAAA,MAAO,QAAO;AAAA,MAAe,OAAM;AAAA,MAA6B,OAAM;AAAA,MAAS,QAAO;AAAA,MAAO,OAAO,CAAE,cAAc;AAAA,OAC5H,oCAAC,QAAD;AAAA,MAAM,eAAc;AAAA,MAAQ,gBAAe;AAAA,MAAQ,aAAY;AAAA,MAAI,GAAE;AAAA,WAI3E,oCAAC,cAAD;AAAA,MACE,UAAU,CAAC,MAAM;AAAA,MACjB,UAAU,MAAM,KAAK;AAAA,MACrB,SAAS,MAAM,KAAK,cAAc,QAAQ;AAAA,MAC1C,OAAM;AAAA,OAEN,oCAAC,QAAD;AAAA,MAAM,OAAO,CAAE,SAAS,QAAQ,gBAAgB,UAAU,YAAY;AAAA,OAAY,UAEhF,oCAAC,OAAD;AAAA,MAAK,MAAK;AAAA,MAAO,QAAO;AAAA,MAAe,OAAM;AAAA,MAA6B,OAAM;AAAA,MAAS,QAAO;AAAA,MAAS,OAAO,CAAE,QAAQ;AAAA,OACxH,oCAAC,QAAD;AAAA,MAAM,eAAc;AAAA,MAAQ,gBAAe;AAAA,MAAQ,aAAa;AAAA,MAAG,GAAE;AAAA;AAAA;AAAA;AAYzF,yBAEI,eAAe;AAKjB,gBAAc;AAEd,MAAI,OAAO,SAAS;AAElB,WAAO,UAAU,IAAI,SAAS,OAAO,QAAQ,KAAK;AAClD,eAAW,OAAO;AAElB,kBAAc;AACd;AACA;AAAA;AAGF,UAAQ,OAAO,SAAS,OAAO;AAE/B,gBAAc;AACd;AACA;AAAA;AAGF,qBAAqB,OAAO;AAC5B,qBAAqB,OAAO;AAE5B,sBAAsB,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,IAKzB,EAAG,WAAY,MAAM,WAAW;AAAA;AAAA;AAAA;",
  "names": []
}
